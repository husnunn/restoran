
<div class="row" id="list-pesanan"></div>
<script>
     function load_dapur() {
       var gg = [];
       $.ajax({
         type: "GET",
         url: "https://informatikaunwaha.com/restaurant/api_sevi/api.php/all",
         
         dataType: "json",
         success: function (response) {
           console.log(response);
           dataInvoice = response.data;
           gg = response;
           var uniqueCodes = [];
           var meja=[]

           // Memetakan pesanan ke dalam kode unik
           $.each(dataInvoice, function (index, order) {
             if ($.inArray(order.kodeorder, uniqueCodes) === -1) {
               uniqueCodes.push(order.kodeorder);
               meja.push(order.meja);
             }
           });

           var htmlk = ``;
           // Membuat div untuk setiap pesanan dengan kode unik
           $.each(uniqueCodes, function (index, uniqueCode) {
             htmlk += `
             <div class='col-4  mb-2'>
             <div class='card h-100'>
                <div class='card-header'>
               Kode Order : ${uniqueCode}
               <p class='mb-0'>
                Nomor MEJA : ${meja[index]}
                </p>
               </div>
             <div class='card-body p-1'>

             <ul style='max-height:300px;overflow-y:auto' class='list-group rounded-0 border-0' id='unique_${uniqueCode}'>`;

             $.each(dataInvoice, function (index, order) {
               if (order.kodeorder === uniqueCode) {
                 htmlk += `<li class='list-group-item border-0 border-bottom py-2' >
                   <div class='row'>
                       <div class='col-10'>${order.item} </div>
                       <div class='col-2'><div class='rounded-1 text-danger fw-bold d-flex justify-content-center align-items-center' style='width:30px;'>${order.qty}</div></div>
                     
                       </div>                    
                   </li>`;
               }
             });
             htmlk += `</ul>
               </div>
               <div class='card-footer'>
                   <button class=' btn w-100 btn-success rounded-1' data-idorder='${uniqueCode}'>Pesanan Ready</button>

                   </div>
               </div>

               </div>`;
           });
           $("#list-pesanan").append(htmlk);
         },
       });
     }
     load_dapur();
   </script>

